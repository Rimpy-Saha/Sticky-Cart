{#
/**
* @file
* Default theme implementation to display a node.
*
* Available variables:
* - node: The node entity with limited access to object properties and methods.
* Only method names starting with "get", "has", or "is" and a few common
* methods such as "id", "label", and "bundle" are available. For example:
* - node.getCreatedTime() will return the node creation timestamp.
* - node.hasField('field_example') returns TRUE if the node bundle includes
* field_example. (This does not indicate the presence of a value in this
* field.)
* - node.isPublished() will return whether the node is published or not.
* Calling other methods, such as node.delete(), will result in an exception.
* See \Drupal\node\Entity\Node for a full list of public properties and
* methods for the node object.
* - label: (optional) The title of the node.
* - content: All node items. Use {{ content }} to print them all,
* or print a subset such as {{ content.field_example }}. Use
* {{ content|without('field_example') }} to temporarily suppress the printing
* of a given child element.
* - author_picture: The node author user entity, rendered using the "compact"
* view mode.
* - metadata: Metadata for this node.
* - date: (optional) Themed creation date field.
* - author_name: (optional) Themed author name field.
* - url: Direct URL of the current node.
* - display_submitted: Whether submission information should be displayed.
* - attributes: HTML attributes for the containing element.
* The attributes.class element may contain one or more of the following
* classes:
* - node: The current template type (also known as a "theming hook").
* - node--type-[type]: The current node type. For example, if the node is an
* "Article" it would result in "node--type-article". Note that the machine
* name will often be in a short form of the human readable label.
* - node--view-mode-[view_mode]: The View Mode of the node; for example, a
* teaser would result in: "node--view-mode-teaser", and
* full: "node--view-mode-full".
* The following are controlled through the node publishing options.
* - node--promoted: Appears on nodes promoted to the front page.
* - node--sticky: Appears on nodes ordered above other non-sticky nodes in
* teaser listings.
* - node--unpublished: Appears on unpublished nodes visible only to site
* admins.
* - title_attributes: Same as attributes, except applied to the main title
* tag that appears in the template.
* - content_attributes: Same as attributes, except applied to the main
* content tag that appears in the template.
* - author_attributes: Same as attributes, except applied to the author of
* the node tag that appears in the template.
* - title_prefix: Additional output populated by modules, intended to be
* displayed in front of the main title tag that appears in the template.
* - title_suffix: Additional output populated by modules, intended to be
* displayed after the main title tag that appears in the template.
* - view_mode: View mode; for example, "teaser" or "full".
* - teaser: Flag for the teaser state. Will be true if view_mode is 'teaser'.
* - page: Flag for the full page state. Will be true if view_mode is 'full'.
* - readmore: Flag for more state. Will be true if the teaser content of the
* node cannot hold the main body content.
* - logged_in: Flag for authenticated user status. Will be true when the
* current user is a logged-in member.
* - is_admin: Flag for admin user status. Will be true when the current user
* is an administrator.
*
* @see template_preprocess_node()
*
* @ingroup themeable
*/
#}
<article{{attributes}}>

  {{ title_prefix }}
  {% if label and not page %}
  <h2{{title_attributes}}>
    <a href="{{ url }}" rel="bookmark">{{ label }}</a>
    </h2>
    {% endif %}
    {{ title_suffix }}

    {% if display_submitted %}
    <footer>
      {{ author_picture }}
      <div{{author_attributes}}>
        {% trans %}Submitted by
        {{ author_name }}
        on
        {{ date }}{% endtrans %}
        {{ metadata }}
        </div>
    </footer>
    {% endif %}

    <div{{content_attributes}}>
      {{ content.body }}
      </div>

      </article>


      <style>
        .thankyou-screen {
          margin: 20px auto 150px;
          /* margin: 18%; */
          background: white;
          padding: 1%;
          width: 100%;
          padding: 1%;
          border: #12508b;
          border-style: solid;
          box-shadow: 0 4px 40px 0 rgb(0 0 0 / 9%), 0 6px 20px 0 rgb(0 0 0 / 17%);
          border-radius: 20px;
          border-bottom-color: #1d7280;
          border-right-color: #126b7a;
        }

        .survey {
          margin: 20px auto 150px;
          /* margin: 18%; */
          background: white;
          padding: 5%;
          width: 100%;
          max-width: 800px
        }

        .section-page-title {
          display: none;
        }

        .img-header p {
          width: 100%;
          max-width: 100% !important;
          min-width: auto;
          text-shadow: none;
        }

        .highlight-tm {
          background: #fffae6;
          padding: 24px;
          border-radius: 24px 24px 0 0;
          border-left: 1px solid #fbbf13;
          border-top: 1px solid #fbbf13;
          border-right: 1px solid #fbbf13;
        }

        .survey-overlay {
          position: fixed;
          z-index: 1000;
          top: 0;
          bottom: 0;
          left: 0;
          right: 0;
          transition: opacity 500ms ease-in-out 0s, visibility linear 500ms, transform 0s linear 500ms;
          text-align: center;
        }

        .overlay:target,
        .overlay:target .popup {
          visibility: visible;
          opacity: 1;
        }

        .rating {
          margin-top: 5%;

          /*display: flex;
        font-size:0;
        justify-content: center;
        align-items: center;
        flex-direction: row-reverse;*/
          /*display: grid;
        grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
        grid-auto-rows: auto;*/
          width: 100%;
          display: -webkit-box;
          display: -ms-flexbox;
          display: flex;
          -webkit-box-orient: horizontal;
          -webkit-box-direction: normal;
          -ms-flex-direction: row;
          flex-direction: row;
          margin-bottom: 12px;
        }

        @media only screen and(max-width: 60em) {
          .rating {
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
          }
        }

        .rating input {
          display: none
        }

        .rating label:hover {
          background-color: #e6f2f3;
        }

        .rating input[type="radio"]:checked+label {
          border-color: #007c89;
          background: linear-gradient(0deg, rgba(0, 124, 137, 0.2), rgba(0, 124, 137, 0.2)), #fff;
        }

        .rating label {
          font-size: 18px;
          cursor: pointer;
          flex-grow: 1;
          min-width: 36px !important;
          text-align: center;
          padding: 4px;
          border: 1px solid #dedddc;
          border-radius: 3px;
          margin-left: 6px;
          margin-right: 6px;
        }

        .rating label {
          border: 1px #999 solid;
          transition: 0.3s;
        }

        .service-consultation label {
          font-size: 16px;
        }

        /* .service-consultation input:not([type=radio]),
	.service-consultation select {
		width: 100%;
		height: 4%;
		margin-bottom: 8%;
		vertical-align: middle;
		min-width: 50px;
		max-width: 635px;
		width: 100%;
		min-height: 36px;
		background-color: #fff;
		border: #a9a9a969;
		border-style: solid;
		border-width: thin;
		max-height: 60px;
		padding: 2%;
	} */

        #product-div {
          display: grid;
          grid-template-columns: 2fr 1fr;
          grid-column-gap: 10px;
        }

        input,
        textarea {
          border-radius: 20px;
        }

        .comment-text {
          max-width: 100%;
          height: 110px;
          width: 100%;
          padding: 1em;
          margin-bottom: 8%;
        }

        .feedback-btn {
          margin-top: 10%;
          padding: 12px 20px;
          border-radius: 12px;
          white-space: normal;
        }

        .logo {
          max-width: 50%;
        }

        .image-logo {
          text-align: center;
          padding: 5%;
        }

        .label-hide {
          display: none;
        }

        @media only screen and(max-width:600px) {
          #product-div {
            grid-template-columns: 1fr;
          }
        }

        @media only screen and(max-width: 510px) {
          .label-show {
            display: none;
          }

          .label-hide {
            display: block;
          }

        }

        input::placeholder {
          color: gray;
          padding: 1%;
        }

        .thankyou-screen {
          display: none;
        }

        .animation-ctn {
          text-align: center;
          margin-top: 5em;
        }

        @-webkit-keyframes checkmark {
          0% {
            stroke-dashoffset: 100px
          }

          100% {
            stroke-dashoffset: 200px
          }
        }

        @-ms-keyframes checkmark {
          0% {
            stroke-dashoffset: 100px
          }

          100% {
            stroke-dashoffset: 200px
          }
        }

        @keyframes checkmark {
          0% {
            stroke-dashoffset: 100px
          }

          100% {
            stroke-dashoffset: 0
          }
        }

        @-webkit-keyframes checkmark-circle {
          0% {
            stroke-dashoffset: 480px
          }

          100% {
            stroke-dashoffset: 960px;

          }
        }

        @-ms-keyframes checkmark-circle {
          0% {
            stroke-dashoffset: 240px
          }

          100% {
            stroke-dashoffset: 480px
          }
        }

        @keyframes checkmark-circle {
          0% {
            stroke-dashoffset: 480px
          }

          100% {
            stroke-dashoffset: 960px
          }
        }

        @keyframes colored-circle {
          0% {
            opacity: 0
          }

          100% {
            opacity: 100
          }
        }

        .inlinesvg .svg svg {
          display: inline
        }

        .icon--order-success svg polyline {
          -webkit-animation: checkmark 0.25s ease-in-out 0.7s backwards;
          animation: checkmark 0.25s ease-in-out 0.7s backwards
        }

        .icon--order-success svg circle {
          -webkit-animation: checkmark-circle 0.6s ease-in-out backwards;
          animation: checkmark-circle 0.6s ease-in-out backwards;
        }

        .icon--order-success svg circle#colored {
          -webkit-animation: colored-circle 0.6s ease-in-out 0.7s backwards;
          animation: colored-circle 0.6s ease-in-out 0.7s backwards;
        }

        section.service-consultation {
          label {
            font-size: 16px;
            font-weight: 400;
          }
        }

        /* new styles */
        .btn-primary:hover {
          background-color: #3276b1;
          border-color: #285e8e;
        }

        .btn-primary {
          background-color: #004897;
          border-color: #004897;
        }

        .survey h1 {
          font-size: 40px;
        }

        .input-lg {
          border-radius: 36px;
        }

        .serviceconsultation-container p {
          font-weight: 400;
          color: black;
        }

        .btn {
          padding: 12px 20px;
        }

        .form-group.has-feedback {
          text-align: center;
        }

        .form-group label {
          margin-right: 10px;
        }
      </style>


      <div class="whole-page" style="background-color: #f2f2f2;">
        <br>
        <section class="survey service-consultation">
          <div class="image-logo">
            <img src="/sites/default/files/norgen-logo.png" class="logo">
          </div>
          <h1 class="center">Service Consultation Request</h1>
          <hr>
          {{service_consultation}}
          
          <p>It is our responsibility to protect and guarantee that your data will be completely confidential. You can
            unsubscribe from Norgen emails at any time by clicking the link in the footer of our emails. For more
            information please view our <a href="/about/privacy" target="_blank">Privacy Policy</a>.</p>
          {# <form action="" method="post">
            <div class="form-table">
              <label for="fname" style="margin-top:10%;">First name<span class="required-asterisk">*</span>
              </label>
              <input type="text" id="fname" name="fname" placeholder="First name (required)" required>

              <label for="lname">Last name<span class="required-asterisk">*</span>
              </label>
              <input type="text" id="lname" name="lname" placeholder="Last name (required)" required>

              <label for="email">Email<span class="required-asterisk">*</span>
              </label>
              <input type="email" id="email" name="email" placeholder="Email (required)" required>

              <label for="phone">Phone<span class="required-asterisk">*</span>
              </label>
              <input type="tel" id="phone" name="phone" placeholder="Phone (required)" required>

              <label for="company">Company name<span class="required-asterisk">*</span>
              </label>
              <input type="text" id="company" name="company" placeholder="Company name (required)" required>

              <label for="country">Country<span class="required-asterisk">*</span>
              </label>
              <input type="text" id="country" name="country" placeholder="Country (required)" required>

              <label for="area_interest">Area of interest<span class="required-asterisk">*</span>
              </label>
              <input type="text" id="area_interest" name="area_interest" placeholder="Area of interest (required)"
                required>

              <label for="service_interest">Service of Interest</label>
              <select id="service_interest" name="service_interest">
                <option value="" selected disabled hidden>Please Select</option>
                <option value="16s">16s rRNA Sequencing / Metagenomics</option>
                <option value="small-rna">Small RNA Seq</option>
                <option value="rna">RNA Seq</option>
                <option value="covid">SARS-CoV-2 Seq</option>
                <option value="qPCR">qPCR / qRT-PCR</option>
                <option value="extraction">Extraction (RNA/DNA/Protein/Exosomes)</option>
                <option value="OEM/Contract Manufacturing">OEM/Contract Manufacturing</option>
                <option value="other">Other</option>
              </select>
              <div id="service_interest_custom_block" style="display:none;">
                <p style="font-size: 16px;">Please specify your service of interest.</p>
                <input type="text" id="service_interest_custom" name="service_interest_custom"
                  placeholder="What service are you interested in?">
              </div>
              <div>
                <p style="font-size: 16px;">
                  <strong>Does your project require Bioinformatics Analysis? (for NGS
                    Only)</strong>
                </p>
                <div class="responses">
                  <fieldset>
                    <label for="bio_analysis_yes"><input type="radio" id="bio_analysis_yes" value="yes"
                        name="bio_analysis">
                      <span style="padding: 1%;">Yes</span>
                    </label>
                    <label for="bio_analysis_no"><input type="radio" id="bio_analysis_no" value="no"
                        name="bio_analysis">
                      <span style="padding: 1%;">No</span>
                    </label>
                  </fieldset>
                </div>
              </div>

              <label for="area_interest">How many samples do you have?<span class="required-asterisk">*</span>
              </label>
              <input type="number" min="0" id="how_many_samples" name="how_many_samples"
                placeholder="How many samples do you have (required)" required>

              <div>
                <label for="proj_desc">Project description</label>
                <textarea class="comment-text" id="proj_desc" name="proj_desc"></textarea>
                <!-- <input type="text" id="comment" > -->
              </div>

              <label for="how_hear">How did you hear about Norgen?<span class="required-asterisk">*</span>
              </label>
              <select id="how_hear" name="how_hear" required>
                <option value="" selected disabled hidden>Please Select</option>
                <option value="referral">Referral</option>
                <option value="social media">Social Media</option>
                <option value="publication">Publication</option>
                <option value="research">Research Gate</option>
                <option value="radio">Radio</option>
                <option value="email">Email</option>
                <option value="search engine">Search Engine</option>
                <option value="event">Event/Conference</option>
                <option value="ad">Advertisement</option>
                <option value="billboard">Billboard</option>
                <option value="other">Other</option>
              </select>
              <div id="how_hear_custom_block" style="display:none;">
                <p style="font-size: 16px;">Please specify how you heard about us.</p>
                <input type="text" id="how_hear_custom" name="how_hear_custom" placeholder="How did you hear about us?">
              </div>

              <div>
                <p style="font-size: 16px;">
                  <strong>Sign up for our mailing list?<span class="required-asterisk">*</span>
                  </strong><br>Receive free newsletters, promotions, and be the
                  first to learn about new exciting content.
                </p>
                <div class="responses">
                  <fieldset>
                    <label for="mailing_list_yes"><input type="radio" id="mailing_list_yes" value="yes"
                        name="mailing_list" required>
                      <span style="padding: 1%;font-size: 16px;">Yes</span>
                    </label>
                    <label for="mailing_list_no"><input type="radio" id="mailing_list_no" value="no"
                        name="mailing_list">
                      <span style="padding: 1%; font-size: 16px;">No</span>
                    </label>
                  </fieldset>
                </div>
              </div>
              <p>It is our responsibility to protect and guarantee that your data will be completely confidential. You
                can unsubscribe from Norgen emails at any time by clicking the link in the footer of our emails. For
                more information please view our
                <a href="/about/privacy" target="_blank">Privacy Policy</a>.
              </p>

              <!--  5 UTM Parameters  -->
              <input id="utm_source" name="utm_source" type="hidden">
              <input id="utm_medium" name="utm_medium" type="hidden">
              <input id="utm_campaign" name="utm_campaign" type="hidden">
              <input id="utm_term" name="utm_term" type="hidden">
              <input id="utm_content" name="utm_content" type="hidden">

            </div>
            <div class="center-div" style="padding-bottom: 15px;text-align: center;">
              <div class="g-recaptcha" data-sitekey="6LeaxQgTAAAAAC7-bUR7p980HXdhTUWSblRhyOr2"></div>
              <button class="btn-primary feedback-btn" type="submit" id="submit" name="submit">Submit Request</button>
            </div>

          </form> #}


        </section>
        <br>
        <br>
        <br>
      </div>
      <!-- Google reCaptcha -->
      <script src="https://www.google.com/recaptcha/api.js" async defer></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script type="text/javascript">
        function success_in() {
          document.querySelector('.whole-page').style.display = "none";
          document.querySelector('.survey').style.display = "none";
          document.querySelector('.thankyou-screen').style.display = "block";

          var currentURL = $(location).attr('href'); // Get current URL
          var newURL = currentURL + "#submit";
          $(location).attr('href', newURL);
        }
        {# let how_hear_select = document.querySelector('select#how_hear');
        let service_interest_select = document.querySelector('select#service_interest'); #}
        let how_hear_custom_block = document.querySelector('#how_hear_custom_block');
        let service_interest_custom_block = document.querySelector('#service_interest_custom_block');

        {# if(how_hear_select)how_hear_select.addEventListener('change', otherHear);
        if(service_interest_select)service_interest_select.addEventListener('change', otherService); #}
        function otherService() {
          if (service_interest_select.value == "other") {
            service_interest_custom_block.style.display = "block";
          } else {
            service_interest_custom_block.style.display = "none";
          }
        }

        function otherHear() {
          if (how_hear_select.value == "other") {
            how_hear_custom_block.style.display = "block";
          } else {
            how_hear_custom_block.style.display = "none";
          }
        }


        // Get UTM Parameters
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        if (urlParams.has('utm_source')) {
          let utm_source = document.querySelector('input#utm_source');
          if (utm_source) {
            utm_source.value = urlParams.get('utm_source');
          }
        }
        if (urlParams.has('utm_medium')) {
          let utm_medium = document.querySelector('input#utm_medium');
          if (utm_medium) {
            utm_medium.value = urlParams.get('utm_medium');
          }
        }
        if (urlParams.has('utm_campaign')) {
          let utm_campaign = document.querySelector('input#utm_campaign');
          if (utm_campaign) {
            utm_campaign.value = urlParams.get('utm_campaign');
          }
        }
        if (urlParams.has('utm_term')) {
          let utm_term = document.querySelector('input#utm_term');
          if (utm_term) {
            utm_term.value = urlParams.get('utm_term');
          }
        }
        if (urlParams.has('utm_content')) {
          let utm_content = document.querySelector('input#utm_content');
          if (utm_content) {
            utm_content.value = urlParams.get('utm_content');
          }
        }


      document.addEventListener("DOMContentLoaded", function () {
          const queryString = window.location.search;
          const urlParams = new URLSearchParams(queryString);
          function setInputValue(id, value) {
              let inputField = document.querySelector("input#" + id);
              if (inputField) {
                  inputField.value = value;
              }
          }

          // Extract UTM parameters from the URL and set them in hidden fields
          setInputValue("utm_source", urlParams.get("utm_source") || "direct_visited");
          // Capture the referrer page
          let referrerPage = document.referrer || "No Referrer (Direct Visit)";
          setInputValue("referrer_page", referrerPage);
      });
      </script>